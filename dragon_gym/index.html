<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dragon Gym — Dual Servo Control</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <main class="app-shell">
    <div class="hud-corner top-left" aria-label="Power control">
      <button class="power-toggle" id="powerToggle" type="button">Power On</button>
    </div>
    <div class="hud-corner top-right" aria-label="Battery level">
      <div class="battery-indicator">
        <div class="battery-body">
          <div class="battery-fill" style="width: 50%"></div>
        </div>
        <span>50%</span>
      </div>
    </div>
    <section class="system-card" aria-label="Dragon Gym overview">
      <div class="logo-block">
        <img src="assets/dragonai-logo.svg" alt="DragonAI neon dragon" class="logo-image" />
        <div class="branding-copy">
          <p class="eyebrow">Dragon Gym</p>
          <h1>600 lb smart gym</h1>
        </div>
      </div>
      <div class="system-meta">
        <button class="status-toggle" id="motorToggle" type="button" aria-pressed="false" data-state="offline">
          <span class="status-line">Motors Offline</span>
          <span class="action-line">Tap to start</span>
        </button>
      </div>
    </section>

    <section class="resistance-overview" aria-label="Resistance overview">
      <article class="status-card" aria-label="Workout status" aria-live="polite">
        <header class="status-header">
          <h2>Workout Status</h2>
          <span class="status-pill" id="workoutState">Workout Not Started</span>
        </header>
        <div class="status-stack">
          <div>
            <span class="label">Set</span>
            <span class="value" id="setStatus">0</span>
          </div>
          <div>
            <span class="label">Reps</span>
            <span class="value" id="repStatus">0 / 12</span>
          </div>
          <div>
            <span class="label">Left reps</span>
            <span class="value" id="leftStatusReps">0</span>
          </div>
          <div>
            <span class="label">Right reps</span>
            <span class="value" id="rightStatusReps">0</span>
          </div>
          <div>
            <span class="label">Force curve</span>
            <span class="value" id="forceCurveLabel">Linear</span>
          </div>
        </div>
        <p class="status-message" id="workoutMessage">Tap “Start Workout” to arm the set controls.</p>
      </article>
      <article class="controls-pill" aria-label="Workout quick controls">
        <button class="accent set-toggle" id="setToggle" disabled aria-pressed="false">Start Set</button>
        <button class="ghost" id="resetWorkout" disabled>Reset</button>
      </article>
      <article class="motor-card" data-motor="left">
        <div class="gauge-wrapper">
          <canvas class="resistance-gauge" id="leftGauge" width="320" height="320" aria-hidden="true"></canvas>
          <div class="gauge-center">
            <span class="motor-name">Left</span>
            <span class="current-resistance" id="leftCurrentResistance">0 lb</span>
          </div>
        </div>
        <dl class="motor-meta">
          <div>
            <dt>Base resistance</dt>
            <dd id="leftBaseResistance">0 lb</dd>
          </div>
          <div>
            <dt>Left Reps</dt>
            <dd id="leftRepCount">0</dd>
          </div>
        </dl>
        <label class="slider-field">
          <span>Adjust resistance</span>
          <input type="range" id="leftResistance" min="0" max="300" value="120" />
        </label>
      </article>

      <article class="motor-card" data-motor="right">
        <div class="gauge-wrapper">
          <canvas class="resistance-gauge" id="rightGauge" width="320" height="320" aria-hidden="true"></canvas>
          <div class="gauge-center">
            <span class="motor-name">Right</span>
            <span class="current-resistance" id="rightCurrentResistance">0 lb</span>
          </div>
        </div>
        <dl class="motor-meta">
          <div>
            <dt>Base resistance</dt>
            <dd id="rightBaseResistance">0 lb</dd>
          </div>
          <div>
            <dt>Right Reps</dt>
            <dd id="rightRepCount">0</dd>
          </div>
        </dl>
        <label class="slider-field">
          <span>Adjust resistance</span>
          <input type="range" id="rightResistance" min="0" max="300" value="120" />
        </label>
      </article>
    </section>

    <section class="workspace">
      <aside class="control-panel" aria-label="Workout controls">
        <h2>Workout Controls</h2>
        <p class="panel-intro">Configure engagement distance, select a force curve, and log your sets as you train.</p>

        <div class="field-group">
          <button class="primary" id="toggleWorkout">Start Workout</button>
        </div>

        <div class="workout-options" id="workoutOptions" hidden>
          <div class="field-group force-curve-group">
            <label>
              <span>Force curve mode (concentric)</span>
              <select id="forceCurve">
                <option value="linear">Linear</option>
                <option value="chain">Chain mode</option>
                <option value="band">Band mode</option>
                <option value="reverse-chain">Reverse chain</option>
              </select>
            </label>
            <canvas
              class="force-curve-graph"
              id="forceCurveConcentric"
              width="320"
              height="150"
              aria-hidden="true"
            ></canvas>
            <p class="hint" id="forceCurveDescription">Concentric: Equal load through the pull and return.</p>
            <button
              class="ghost eccentric-toggle"
              id="eccentricToggle"
              type="button"
              aria-expanded="false"
            >
              Enable eccentric profile
            </button>
            <div class="eccentric-panel" id="eccentricPanel" hidden>
              <label>
                <span>Eccentric force curve</span>
                <select id="eccentricCurve">
                  <option value="eccentric">Eccentric mode</option>
                  <option value="chain">Chain mode</option>
                  <option value="band">Band mode</option>
                  <option value="reverse-chain">Reverse chain</option>
                </select>
              </label>
              <canvas
                class="force-curve-graph"
                id="forceCurveEccentric"
                width="320"
                height="150"
                aria-hidden="true"
              ></canvas>
              <p class="hint" id="eccentricCurveDescription">Eccentric: +20% load on the lowering phase.</p>
            </div>
          </div>

          <div class="field-group">
            <label for="engageDistance">
              <span>Cable engagement distance</span>
              <input type="range" id="engageDistance" min="0" max="24" step="0.5" value="1.5" />
            </label>
            <p class="hint">Engage after <span id="engageDisplay">1.5</span> in of travel.</p>
          </div>

        </div>

      </aside>

      <section class="visual-panel" aria-label="Exercise analysis">
        <h2>Exercise Analysis</h2>
        <div class="wave-grid">
          <article class="wave-card" data-motor="left">
            <header>
              <span class="motor-name">Left Arm</span>
              <span class="distance-readout">Cable: <span id="leftCableDistance">0.0</span> in</span>
            </header>
            <canvas class="wave-canvas" id="leftWave" width="520" height="180" aria-hidden="true"></canvas>
          </article>
          <article class="wave-card" data-motor="right">
            <header>
              <span class="motor-name">Right Arm</span>
              <span class="distance-readout">Cable: <span id="rightCableDistance">0.0</span> in</span>
            </header>
            <canvas class="wave-canvas" id="rightWave" width="520" height="180" aria-hidden="true"></canvas>
          </article>
        </div>
        <section class="simulator-panel" aria-label="Motor travel simulator">
          <h3>Motor Travel Simulation</h3>
          <div class="sim-slider-group">
            <label class="sim-slider">
              <span>Left cable length</span>
              <input type="range" id="leftSim" min="0" max="24" step="0.1" value="0" />
            </label>
            <label class="sim-slider">
              <span>Right cable length</span>
              <input type="range" id="rightSim" min="0" max="24" step="0.1" value="0" />
            </label>
          </div>
        </section>
      </section>
      <section class="log-panel" aria-label="Workout log">
        <h3>Workout Log</h3>
        <p class="panel-intro">Completed sets appear here with recorded resistance and reps.</p>
        <ul class="log-list" id="workoutLogList"></ul>
      </section>
      <section class="selector-panel" aria-label="Workout selector">
        <h3>Workout Selector</h3>
        <div class="selector-controls">
          <label for="exerciseSelect">Choose an exercise</label>
          <select id="exerciseSelect">
            <option value="incline-bench">Incline Bench</option>
            <option value="weighted-pullups">Weighted Pull Ups</option>
            <option value="dumbbell-shoulder-press">Dumbbell Shoulder Press</option>
            <option value="lateral-raise">Lateral Raise</option>
            <option value="pec-deck">Pec Deck</option>
            <option value="tricep-pushdown">Tricep Pushdown</option>
            <option value="deadlift">Deadlift</option>
            <option value="one-arm-row">One-Arm Row</option>
            <option value="leg-curl">Leg Curl</option>
            <option value="calve-raise">Calve Raise</option>
          </select>
        </div>
        <p class="exercise-title" id="exerciseTitle">Incline Bench</p>
        <div class="exercise-preview">
          <div class="media-placeholder image" id="exerciseImagePlaceholder">Image placeholder</div>
          <div class="media-placeholder video" id="exerciseVideoPlaceholder">Video placeholder</div>
        </div>
      </section>
    </section>
  </main>
  <script src="app.js" defer></script>
</body>
</html>
